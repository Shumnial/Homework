"use strict";$(function(){function t(){l.mask("+7(999) 999-9999")}function c(){var t=$(this).closest(".c-contact"),c=+$(t).attr("data-id"),n=d.findIndex(function(t){return t.id===c});d.splice(n,1),s(),t.addClass("c-contact--slide-right"),setTimeout(function(){t.remove()},500)}function n(t){var c=r,n=d.map(function(c){var n=t===c.id?"c-contact--slide-default":"";return'<li class="c-contact '+n+'" data-id="'+c.id+'"><div class="c-contact__lastname">Фамилия: '+c.lastname+'</div>\n\t\t<div class="c-contact__name">Имя: '+c.name+'</div>\n\t\t<div class="c-contacts__address">Улица: '+c.address+'</div>\n\t\t<div class="c-contact__tel">Тел: '+c.tel+'</div>\n\t\t<button class="c-contact__delete-btn">DELETE</button></li>'});c.html(n)}function a(){var t=localStorage.getItem("users");t&&(d=JSON.parse(t))}function s(){localStorage.setItem("users",JSON.stringify(d))}function e(){d.sort(function(t,c){return t.lastname<c.lastname?-1:t.lastname>c.lastname?1:0})}function o(t){t.preventDefault();var c=$(".c-contacts-form__tel").val(),a=d.find(function(t){return t.tel===c});if(a)return void l.addClass("c-contacts-form__tel--invalid");l.removeClass("c-contacts-form__tel--invalid");var o=$(this).serializeArray(),i={};o.forEach(function(t){i[t.name]=t.value}),i.id=Date.now(),window.map.getCoords(i.address),d.push(i),e(),s(),n(i.id)}var i=$(".c-contacts-form"),r=$(".c-contacts-list"),l=($(".c-contacts-form__name"),$(".c-contacts-form__lastname"),$(".c-contacts-form__tel"));t();var d=[];a(),n(),i.on("submit",o),$(document).on("click",".c-contact__delete-btn",c)});
//# sourceMappingURL=../javascripts/common.js.map
